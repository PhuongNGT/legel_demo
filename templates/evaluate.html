<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Evaluate - {{ doctrine }}</title>
</head>
<body>
    <h2>Evaluate: {{ doctrine }}</h2>

    <form method="post">
        <!-- === MCQ Section === -->
        <h3>MCQ:</h3>
        {% if mcq %}
            <p><strong>{{ mcq.question }}</strong></p>
            {% for opt in mcq.options %}
                <label>
                    <input type="radio" name="mcq_answer" value="{{ opt }}" required> {{ opt }}
                </label><br>
            {% endfor %}
            <input type="hidden" name="correct_answer" value="{{ mcq.answer }}">
        {% else %}
            <p style="color:red"><em>No MCQ available</em></p>
        {% endif %}

        <hr>

        <!-- === Story Section === -->
        <h3>Stories:</h3>
        {% for s in stories %}
            <fieldset style="border:1px solid #ccc; margin:10px; padding:10px">
                <label>
                    <input type="radio" name="voted_model" value="{{ s.model }}" required>
                    <strong>Model: {{ s.model }}</strong>
                </label>
                <p>{{ s.story }}</p>
            </fieldset>
        {% endfor %}

        <hr>

        <!-- === Additional Fields === -->

        <label><strong>MCQ Type:</strong>
            <select name="mcq_type" required>
                <option value="concept">Concept</option>
                <option value="prediction">Prediction</option>
                <option value="limitation">Limitation</option>
            </select>
        </label><br><br>

        <label><strong>Are you a native speaker?</strong></label><br>
        <label><input type="radio" name="is_native" value="1" required> Yes</label>
        <label><input type="radio" name="is_native" value="0" required> No</label><br><br>

        <label><strong>Did you read the story before answering?</strong></label><br>
        <label><input type="radio" name="with_story" value="1" required> Yes</label>
        <label><input type="radio" name="with_story" value="0" required> No</label><br><br>

        <label><strong>Error Type (if any):</strong></label>
        <select name="error_type">
            <option value="">-- None --</option>
            <option value="Too Easy">Too Easy</option>
            <option value="Missing Info">Missing Info</option>
            <option value="Confusing">Confusing</option>
            <option value="Multi-Answers">Multi-Answers</option>
            <option value="No Answer">No Answer</option>
            <option value="Wrong Reasoning">Wrong Reasoning</option>
            <option value="Other">Other</option>
        </select><br><br>

        <label><strong>Rate of Difficulty (RoD):</strong>
            <input type="number" name="rod" min="0" max="1" step="0.1" required>
        </label><br><br>

        <label><strong>Rate of Satisfaction (RoS):</strong>
            <input type="number" name="ros" min="0" max="1" step="0.1" required>
        </label><br><br>

        <label><strong>Likeable?</strong></label><br>
        <label><input type="radio" name="likeable" value="1" required> Yes</label>
        <label><input type="radio" name="likeable" value="0" required> No</label><br><br>

        <label><strong>Believable?</strong></label><br>
        <label><input type="radio" name="believable" value="1" required> Yes</label>
        <label><input type="radio" name="believable" value="0" required> No</label><br><br>

        <!-- === Submit Button === -->
        <button type="submit">Submit</button>
    </form>
</body>
</html>

